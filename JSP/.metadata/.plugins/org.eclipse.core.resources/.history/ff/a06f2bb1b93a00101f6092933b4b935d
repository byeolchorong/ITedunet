package chapter07;

import java.io.IOException;

import com.oreilly.servlet.MultipartRequest;
import com.oreilly.servlet.multipart.DefaultFileRenamePolicy;

import jakarta.servlet.RequestDispatcher;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

@WebServlet("/exam7_1")
public class fileupload01 extends HttpServlet {
	// 폼을 제공
	@Override
	protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		System.out.println("exam7_1 doget 입장");
		
		RequestDispatcher ds = req.getRequestDispatcher("chapter07/fileupload01.jsp");
		ds.forward(req, resp);	
	}
	
	// 폼을 처리
	@Override
	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		System.out.println("exam7_1 dopost 입장");
		
		// Step2. 전처리
		// 멀티파트리퀘스트는 파라미터 5개를 줘야한다 (리퀘스트,저장폴더,사이즈,인코딩,이름관련객체)
		String save = ;
		int max;
		String encoding;
		DefaultFileRenamePolicy rename;
		
		MultipartRequest multi = new MultipartRequest(req,save,max,encoding,rename);
		
		// Step3. 모델이동
		
		
		// Step4. 뷰이동
	}

}
